import { Callout } from "nextra/components";
import { JwtContent } from "../components/jwt-content";

# Rate Limits

The Morgen API enforces rate limits to ensure fair usage and system stability. Rate limits are applied per user.

## Rate Limit Values

| Authentication | Limit | Window |
| :------------- | :---- | :----- |
| API Key | 100 points | 15 minutes |

<JwtContent>

| JWT Token | 300 requests | 15 minutes |

</JwtContent>

## Points System (API Key)

When using API Key authentication, requests consume points based on the endpoint:

| Endpoint | Points Cost |
| :------- | :---------- |
| `/list` endpoints | 10 points |
| All other endpoints | 1 point |

## Rate Limit Headers

Every API response includes headers to help you track your rate limit usage. These headers follow the [IETF draft standard](https://datatracker.ietf.org/doc/draft-ietf-httpapi-ratelimit-headers/).

| Header | Description |
| :----- | :---------- |
| `RateLimit-Limit` | Maximum points/requests allowed in the current window |
| `RateLimit-Remaining` | Points/requests remaining in the current window |
| `RateLimit-Reset` | Seconds until the rate limit window resets |
| `Retry-After` | Seconds to wait before retrying (only present when `RateLimit-Remaining` is 0) |

### Example Headers

```
RateLimit-Limit: 100
RateLimit-Remaining: 90
RateLimit-Reset: 459
```

## Handling Rate Limits

When you exceed the rate limit, the API returns a `429 Too Many Requests` response. The response includes a `Retry-After` header indicating how long to wait before retrying.

### Best Practices

- Monitor the `RateLimit-Remaining` header to avoid hitting limits
- Implement exponential backoff when receiving 429 responses
- Use `updatedAfter` filters to sync only recently changed resources
- Cache responses where appropriate to reduce API calls

